//ä½ è¦å¼€å‘ä¸€åº§é‡‘çŸ¿ï¼Œåœ°è´¨å‹˜æµ‹å­¦å®¶å·²ç»æ¢æ˜äº†è¿™åº§é‡‘çŸ¿ä¸­çš„èµ„æºåˆ†å¸ƒï¼Œå¹¶ç”¨å¤§å°ä¸º m * n çš„ç½‘æ ¼ grid è¿›è¡Œäº†æ ‡æ³¨ã€‚æ¯ä¸ªå•å…ƒæ ¼ä¸­çš„æ•´æ•°å°±è¡¨ç¤ºè¿™ä¸€å•å…ƒæ ¼ä¸­çš„é»„
//é‡‘æ•°é‡ï¼›å¦‚æœè¯¥å•å…ƒæ ¼æ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆå°±æ˜¯ 0ã€‚ 
//
// ä¸ºäº†ä½¿æ”¶ç›Šæœ€å¤§åŒ–ï¼ŒçŸ¿å·¥éœ€è¦æŒ‰ä»¥ä¸‹è§„åˆ™æ¥å¼€é‡‡é»„é‡‘ï¼š 
//
// 
// æ¯å½“çŸ¿å·¥è¿›å…¥ä¸€ä¸ªå•å…ƒï¼Œå°±ä¼šæ”¶é›†è¯¥å•å…ƒæ ¼ä¸­çš„æ‰€æœ‰é»„é‡‘ã€‚ 
// çŸ¿å·¥æ¯æ¬¡å¯ä»¥ä»å½“å‰ä½ç½®å‘ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘èµ°ã€‚ 
// æ¯ä¸ªå•å…ƒæ ¼åªèƒ½è¢«å¼€é‡‡ï¼ˆè¿›å…¥ï¼‰ä¸€æ¬¡ã€‚ 
// ä¸å¾—å¼€é‡‡ï¼ˆè¿›å…¥ï¼‰é»„é‡‘æ•°ç›®ä¸º 0 çš„å•å…ƒæ ¼ã€‚ 
// çŸ¿å·¥å¯ä»¥ä»ç½‘æ ¼ä¸­ ä»»æ„ä¸€ä¸ª æœ‰é»„é‡‘çš„å•å…ƒæ ¼å‡ºå‘æˆ–è€…æ˜¯åœæ­¢ã€‚ 
// 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// è¾“å…¥ï¼šgrid = [[0,6,0],[5,8,7],[0,9,0]]
//è¾“å‡ºï¼š24
//è§£é‡Šï¼š
//[[0,6,0],
// [5,8,7],
// [0,9,0]]
//ä¸€ç§æ”¶é›†æœ€å¤šé»„é‡‘çš„è·¯çº¿æ˜¯ï¼š9 -> 8 -> 7ã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// è¾“å…¥ï¼šgrid = [[1,0,7],[2,0,6],[3,4,5],[0,3,0],[9,0,20]]
//è¾“å‡ºï¼š28
//è§£é‡Šï¼š
//[[1,0,7],
// [2,0,6],
// [3,4,5],
// [0,3,0],
// [9,0,20]]
//ä¸€ç§æ”¶é›†æœ€å¤šé»„é‡‘çš„è·¯çº¿æ˜¯ï¼š1 -> 2 -> 3 -> 4 -> 5 -> 6 -> 7ã€‚
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= grid.length, grid[i].length <= 15 
// 0 <= grid[i][j] <= 100 
// æœ€å¤š 25 ä¸ªå•å…ƒæ ¼ä¸­æœ‰é»„é‡‘ã€‚ 
// 
// Related Topics å›æº¯ç®—æ³•
// ğŸ‘ 74 ğŸ‘ 0


package com.db117.example.leetcode.solution12;

/**
 * 1219.é»„é‡‘çŸ¿å·¥.path-with-maximum-gold
 *
 * @author db117
 * @since 2021-05-13 18:28:34
 **/

public class Solution_1219 {
    public static void main(String[] args) {
        Solution solution = new Solution_1219().new Solution();
        // [[1,0,7],[2,0,6],[3,4,5],[0,3,0],[9,0,20]]
        // [0,6,0],[5,8,7],[0,9,0]
//        System.out.println(solution.getMaximumGold(new int[][]{
//                {1, 0, 7},
//                {2, 0, 6},
//                {3, 4, 5},
//                {0, 3, 0},
//                {9, 0, 20}
//        }));
        System.out.println(solution.getMaximumGold(new int[][]{
                {0, 6, 0},
                {5, 8, 7},
                {0, 9, 0},
        }));
    }

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {
        int[][] grid;
        int max = -1;
        // æ–¹å‘
        int[][] tmp = new int[][]{
                {1, 0},
                {-1, 0},
                {0, -1},
                {0, 1}
        };

        public int getMaximumGold(int[][] grid) {
            this.grid = grid;


            for (int i = 0; i < grid.length; i++) {
                for (int j = 0; j < grid[0].length; j++) {
                    if (grid[i][j] != 0) {
                        // ä»æ¯ä¸€ä¸ªä¸ä¸º 0 çš„ä½ç½®å¼€å§‹
                        dfs(i, j, 0);
                    }
                }
            }
            return max;
        }

        private void dfs(int x, int y, int sum) {
            // èµ°åˆ°å½“å‰ç‚¹,åˆ™å½“å‰ä½ç½®ç´¢å¼•è‚¯å®šåˆæ³•
            sum += grid[x][y];
            max = Math.max(max, sum);

            for (int[] ints : tmp) {
                int temp = grid[x][y];
                // æ ‡è®°ä¸º 0 ä»£æ›¿æ ‡è®°,ä¸ä¼šèµ°å›å¤´è·¯
                grid[x][y] = 0;

                int nx = x + ints[0];
                int ny = y + ints[1];
                if (nx < 0
                        || ny < 0
                        || nx >= grid.length
                        || ny >= grid[0].length
                        || grid[nx][ny] == 0) {
                    // ä¸€å®šè¦å›æº¯
                    grid[x][y] = temp;
                    continue;
                }

                dfs(nx, ny, sum);

                grid[x][y] = temp;
            }
        }
    }
//leetcode submit region end(Prohibit modification and deletion)

}